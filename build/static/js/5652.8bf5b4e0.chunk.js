"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[5652],{26117:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(39868),a=(t(72791),t(80184));function c(e){var n=e.modal,t=e.setModal,c=e.deleteEntry;return(0,a.jsx)("div",{className:"delete_modal_box",children:(0,a.jsxs)(r.Tk,{show:n,onClose:t,children:[(0,a.jsx)(r.p0,{closeButton:!0}),(0,a.jsxs)(r.kG,{className:"delete_modal_body",children:[(0,a.jsx)("p",{children:" Are you sure you want to delete this record ?"}),(0,a.jsxs)("div",{className:"btn-div-modal-group delete_modal_Btns",children:[(0,a.jsx)("button",{onClick:function(){return c()},className:"delete_modal_yes_Btn",children:"Yes, Approve"}),(0,a.jsx)("button",{className:"btn btn-primary delete_modal_cancel_Btn",color:"secondary",onClick:function(){return t(!1)},children:"Cancel"})]})]})]})})}},35652:function(e,n,t){t.r(n),t.d(n,{default:function(){return p}});var r=t(15861),a=t(70885),c=t(64687),s=t.n(c),o=t(39868),i=t(72791),l=t(91523),u=t(16094),d=t(26117),f=t(80184);function p(){var e=i.useState([]),n=(0,a.Z)(e,2),t=n[0],c=n[1],p=i.useState(null),m=(0,a.Z)(p,2),h=m[0],x=m[1],b=i.useState(!1),_=(0,a.Z)(b,2),j=_[0],v=_[1];i.useEffect((function(){function e(){return(e=(0,r.Z)(s().mark((function e(){var n,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(u.HQ+"dbBeacon/getAllBeacons",{method:"GET"});case 2:if(!0!==(n=e.sent).ok){e.next=8;break}return e.next=6,n.json();case 6:t=e.sent,c(t.data.map((function(e,n){return{"#":n+1,id:e._id,beaconMac:e.beaconMac,description:e.description}})));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);return(0,f.jsxs)("section",{children:[(0,f.jsx)(d.Z,{modal:j,setModal:v,deleteEntry:function(){function e(){return e=(0,r.Z)(s().mark((function e(){var n,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(u.HQ+"dbBeacon/deleteBeacon/"+h,{method:"DELETE"});case 2:return n=e.sent,e.next=5,n.json();case 5:1==e.sent.success&&(t=function(){var e=(0,r.Z)(s().mark((function e(){var n,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(u.HQ+"dbBeacon/getAllBeacons",{method:"GET"});case 2:if(!0!==(n=e.sent).ok){e.next=8;break}return e.next=6,n.json();case 6:t=e.sent,c(t.data.map((function(e,n){return{"#":n+1,id:e._id,beaconMac:e.beaconMac,description:e.description}})));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v(!1),x(""),t());case 7:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}}),(0,f.jsx)(l.rU,{className:"btn btn-primary mb-3 ml-3",to:"/create/beacon",children:"Create Beacon"}),(0,f.jsx)(o.b7,{xs:"12",lg:"12",children:(0,f.jsx)(o.xH,{children:(0,f.jsx)(o.sl,{children:(0,f.jsx)(o.x,{items:t,fields:["#","beaconMac","description","action"],columnFilter:!0,tableFilter:!0,itemsPerPageSelect:!0,itemsPerPage:5,hover:!0,sorter:!0,pagination:!0,scopedSlots:{action:function(e){return(0,f.jsxs)("td",{children:[(0,f.jsx)(l.rU,{className:"mr-2",to:"/edit/beacon/".concat(e.id),children:(0,f.jsx)("i",{className:"fa fa-pencil","aria-hidden":"true"})}),(0,f.jsx)("i",{style:{cursor:"pointer"},onClick:function(){return n=e.id,x(n),void v(!0);var n},className:"fa fa-trash","aria-hidden":"true"})]})}}})})})})]})}}}]);
//# sourceMappingURL=5652.8bf5b4e0.chunk.js.map
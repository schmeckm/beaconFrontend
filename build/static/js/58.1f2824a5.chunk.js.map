{"version":3,"sources":["screens/Zone/create.js"],"names":["Create","React","useState","zoneId","setZoneId","currentEnvironment","setCurrentEnvironment","allEnvironments","setAllEnvironments","description","setDescription","text1","setText1","text2","setText2","useEffect","a","fetch","url","method","response","ok","json","data","map","item","value","_id","label","name","toast","error","fetchEnvironment","className","onSubmit","e","headers","body","JSON","stringify","console","log","success","info","preventDefault","submitData","handleSubmit","htmlFor","required","onChange","target","type","id","options","onClick","window","history","back"],"mappings":"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","file":"static/js/58.1f2824a5.chunk.js","sourcesContent":["import React from 'react';\nimport { url } from '../../helpers/helpers';\nimport Select from 'react-select';\nimport { toast, ToastContainer } from 'react-toastify';\n\nexport default function Create() {\n\n    const [zoneId, setZoneId] = React.useState('');\n    const [currentEnvironment, setCurrentEnvironment] = React.useState('');\n    const [allEnvironments, setAllEnvironments] = React.useState([]);\n    const [description, setDescription] = React.useState('');\n    const [text1, setText1] = React.useState('');\n    const [text2, setText2] = React.useState('');\n    \n    React.useEffect(()=>{\n        async function fetchEnvironment() {\n            const response = await fetch(url + 'environment/getAllEnvironments', {\n                method: 'GET',\n            })\n            if (response.ok === true) {\n                const data = await response.json();\n                    setAllEnvironments(data?.data.map(item => {\n                        return {\n                            value: item._id,\n                            label: item.name,\n                        }\n                    }))\n                }else {\n                    toast.error('Oops something went wrong');\n                }\n        }\n        fetchEnvironment();\n    }, [])\n    \n    const handleSubmit = e => {\n        e.preventDefault();\n\n        async function submitData() {\n            let data = {\n                \"zoneId\": zoneId,\n                \"environment\": currentEnvironment.value,\n                \"description\": description,\n                \"text1\": text1,\n                \"text2\": text2,\n            }\n            const response = await fetch(url + 'zone/addZone', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(data)\n            })\n            console.log(response); \n            if (response.ok === true) {\n                const data = await response.json();\n                if (data.success == true) {\n                    setZoneId('');\n                    setDescription('');\n                    setText1('');\n                    setText2('');\n                    setCurrentEnvironment('');\n                    toast.info(\"Zone created successfully!\")\n                } else {\n                    toast.error(\"Oops something went wrong!\")\n                }\n            }\n        }\n        submitData();\n    }\n    return (\n        <div className=\"container create-page-main-section\">\n            <form onSubmit={e => handleSubmit(e)}>\n                <div className='p-sm-5 create-form-field'>\n                    <div className=\"form-group row\">\n                        <label htmlFor=\"inputPassword\" className=\"col-sm-2 col-form-label\">ZoneId:<span className='required-label'>*</span></label>\n                        <div className=\"d-flex align-items-sm-center col-sm-10\">\n                            <input required value={zoneId} onChange={e => setZoneId(e.target.value)} type=\"text\" className=\"form-control\" id=\"inputPassword\" />\n                        </div>\n                    </div>\n                    <div className=\"form-group row\">\n                        <label htmlFor=\"inputPassword\" className=\"col-sm-2 col-form-label\">Environment:<span className='required-label'>*</span></label>\n                        <div className=\"col-sm-10\">\n                        <Select options={allEnvironments} value={currentEnvironment} onChange={setCurrentEnvironment} />\n                        </div>\n                    </div>\n                    <div className=\"form-group row\">\n                        <label htmlFor=\"inputPassword\" className=\"col-sm-2 col-form-label\">Description:<span className='required-label'>*</span></label>\n                        <div className=\"d-flex align-items-sm-center col-sm-10\">\n                            <input required value={description} onChange={e => setDescription(e.target.value)} type=\"text\" className=\"form-control\" id=\"inputPassword\" />\n                        </div>\n                    </div>\n                    <div className=\"form-group row\">\n                        <label htmlFor=\"inputPassword\" className=\"col-sm-2 col-form-label\">Text1:<span className='required-label'>*</span></label>\n                        <div className=\"d-flex align-items-sm-center col-sm-10\">\n                            <input required value={text1} onChange={e => setText1(e.target.value)} type=\"text\" className=\"form-control\" id=\"inputPassword\" />\n                        </div>\n                    </div>\n                    <div className=\"form-group row\">\n                        <label htmlFor=\"inputPassword\" className=\"col-sm-2 col-form-label\">Text2:<span className='required-label'>*</span></label>\n                        <div className=\"d-flex align-items-sm-center col-sm-10\">\n                            <input required value={text2} onChange={e => setText2(e.target.value)} type=\"text\" className=\"form-control\" id=\"inputPassword\" />\n                        </div>\n                    </div>\n                </div>\n                <div className=\"d-flex justify-content-center create-catagory-btns\">\n                    <button onClick={() => window.history.back()} type=\"button\" className=\"font-weight-bold m-3 py-2 px-4 btn btn-danger\">Cancel<i\n                        className=\"px-2 fa fa-times\" aria-hidden=\"true\"></i></button>\n                    <button type=\"submit\" className=\"font-weight-bold m-3 py-2 px-4 btn btn-success\">Save<i\n                        className=\"px-2 fa fa-floppy-o\" aria-hidden=\"true\"></i></button>\n                </div>\n            </form>\n            <ToastContainer />\n        </div>\n    )\n}"],"sourceRoot":""}
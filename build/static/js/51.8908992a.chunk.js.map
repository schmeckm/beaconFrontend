{"version":3,"sources":["screens/BeaconConfiguration/GetPosition.js"],"names":["GetPosition","React","useState","beacons","setBeacons","currentBeacon","setCurrentBeacon","start","setStart","end","setEnd","useEffect","a","fetch","url","method","response","ok","json","data","map","item","index","_id","beaconMac","fetchData","className","onSubmit","e","preventDefault","send","body","JSON","stringify","value","toString","success","alert","submit","onChange","options","type","target","required","class","onClick","window","location","reload"],"mappings":"8SAIe,SAASA,IACpB,MAA8BC,IAAMC,SAAS,IAA7C,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA0CH,IAAMC,SAAS,IAAzD,mBAAOG,EAAP,KAAsBC,EAAtB,KACA,EAA0BL,IAAMC,SAAS,IAAzC,mBAAOK,EAAP,KAAcC,EAAd,KACA,EAAsBP,IAAMC,SAAS,IAArC,mBAAOO,EAAP,KAAYC,EAAZ,KAiDA,OAhDAT,IAAMU,WAAU,WAAM,4CAClB,8BAAAC,EAAA,sEAC2BC,MAAMC,IAAM,yBAA0B,CACzDC,OAAQ,QAFhB,WAKwB,KAJdC,EADV,QAKiBC,GALjB,gCAM2BD,EAASE,OANpC,OAMcC,EANd,OAOQf,EAAWe,EAAKA,KAAKC,KAAI,SAACC,EAAMC,GAC5B,MAAO,CACH,MAASD,EAAKE,IACd,MAASF,EAAKG,eAV9B,4CADkB,uBAAC,WAAD,wBAgBlBC,KACD,IAgCC,qBAAKC,UAAU,qCAAf,SACI,qBAAKA,UAAU,2BAAf,SACI,uBAAMC,SAAU,SAAAC,GAAC,OAhC7B,SAAgBA,GAGZ,GAFAA,EAAEC,iBAEExB,EAAe,CAAC,IACDyB,EADA,uCACf,4BAAAlB,EAAA,sEAC2BC,MAAMC,IAAM,qBAAsB,CACrDC,OAAS,OACTgB,KAAMC,KAAKC,UAAU,CACjB,UAAa5B,EAAc6B,MAC3B,UAAa3B,EAAM4B,WACnB,QAAW1B,EAAI0B,eAN3B,UAUuB,IATbnB,EADV,QAUiBC,GAVjB,iCAW2BD,EAASE,OAXpC,OAY4B,GAZ5B,OAYiBkB,SACLC,MAAM,mCAblB,wBAgBQA,MAAM,8BAhBd,4CADe,qDAoBfP,SAEAO,MAAM,wBAOmBC,CAAOV,IAA5B,UACI,sBAAKF,UAAU,MAAf,UACI,sBAAKA,UAAU,sBAAf,UACI,2CACA,cAAC,IAAD,CAAQQ,MAAO7B,EAAekC,SAAUjC,EAAkBkC,QAASrC,OAEvE,sBAAKuB,UAAU,sBAAf,UACI,+CACA,uBAAOe,KAAK,iBAAiBf,UAAU,eAAeQ,MAAO3B,EAAOgC,SAAU,SAAAX,GAAC,OAAIpB,EAASoB,EAAEc,OAAOR,QAAQS,UAAQ,OAEzH,sBAAKjB,UAAU,sBAAf,UACI,6CACA,uBAAOe,KAAK,iBAAiBf,UAAU,eAAeQ,MAAOzB,EAAK8B,SAAU,SAAAX,GAAC,OAAIlB,EAAOkB,EAAEc,OAAOR,QAAQS,UAAQ,UAGzH,sBAAKC,MAAM,qDAAX,UACI,yBAAQC,QAAS,kBAAMC,OAAOC,SAASC,UAAUP,KAAK,SAASG,MAAM,gDAArE,mBAA2H,mBACvHA,MAAM,mBAAmB,cAAY,YACzC,yBAAQH,KAAK,SAASG,MAAM,iDAA5B,iBAAiF,mBAC7EA,MAAM,sBAAsB,cAAY","file":"static/js/51.8908992a.chunk.js","sourcesContent":["import { url } from '../../helpers/helpers';\nimport React from 'react'\nimport Select from 'react-select'\n\nexport default function GetPosition() {\n    const [beacons, setBeacons] = React.useState([]);\n    const [currentBeacon, setCurrentBeacon] = React.useState(\"\");\n    const [start, setStart] = React.useState(\"\");\n    const [end, setEnd] = React.useState(\"\");\n    React.useEffect(() => {\n        async function fetchData() {\n            const response = await fetch(url + 'dbBeacon/getAllBeacons', {\n                method: 'GET',\n            })\n\n            if (response.ok === true) {\n                const data = await response.json();\n                setBeacons(data.data.map((item, index) => {\n                    return {\n                        'value': item._id,\n                        'label': item.beaconMac,\n                    }\n                }))\n            }\n        }\n        fetchData();\n    }, [])\n\n    function submit(e) {\n        e.preventDefault();\n\n        if (currentBeacon) {\n            async function send() {\n                const response = await fetch(url + 'beacon/getPosition', {\n                    method : 'POST',\n                    body: JSON.stringify({\n                        \"beaconMac\": currentBeacon.value,\n                        \"startTime\": start.toString(),\n                        \"endTime\": end.toString()\n                    })\n                });\n\n                if (response.ok == true){\n                    const data = await response.json();\n                    if (data.success == true){\n                        alert(\"Request submitted successfully!\")\n                    }\n                }else{\n                    alert(\"Oops something went wrong!\");\n                }\n            };\n            send()\n        } else {\n            alert(\"Please select beacon\");\n        }\n    }\n\n    return (\n        <div className=\"container create-page-main-section\">\n            <div className='p-sm-5 create-form-field'>\n                <form onSubmit={e => submit(e)}>\n                    <div className='row'>\n                        <div className='col-md-4 form-group'>\n                            <label>Beacon</label>\n                            <Select value={currentBeacon} onChange={setCurrentBeacon} options={beacons} />\n                        </div>\n                        <div className='col-md-4 form-group'>\n                            <label>Start Time</label>\n                            <input type=\"datetime-local\" className='form-control' value={start} onChange={e => setStart(e.target.value)} required />\n                        </div>\n                        <div className='col-md-4 form-group'>\n                            <label>End Time</label>\n                            <input type=\"datetime-local\" className='form-control' value={end} onChange={e => setEnd(e.target.value)} required />\n                        </div>\n                    </div>\n                    <div class=\"d-flex justify-content-center create-catagory-btns\">\n                        <button onClick={() => window.location.reload()} type=\"button\" class=\"font-weight-bold m-3 py-2 px-4 btn btn-danger\">Cancel<i\n                            class=\"px-2 fa fa-times\" aria-hidden=\"true\"></i></button>\n                        <button type=\"submit\" class=\"font-weight-bold m-3 py-2 px-4 btn btn-success\">Save<i\n                            class=\"px-2 fa fa-floppy-o\" aria-hidden=\"true\"></i></button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    )\n}\n"],"sourceRoot":""}
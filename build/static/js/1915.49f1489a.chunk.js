"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[1915],{61915:function(e,t,a){a.r(t);var r=a(37762),n=a(70885),o=a(72791),i=a(86082),s=(a(94120),a(40444)),l=a(69683),c=a(34979),d=a(74569),u=a.n(d),f=a(80184);s.Z.register(c.ZP);t.default=function(){var e=(0,o.useState)([]),t=(0,n.Z)(e,2),a=t[0],s=t[1],c=(0,o.useState)(2e4),d=(0,n.Z)(c,2),h=d[0],p=(d[1],(0,o.useState)([])),b=(0,n.Z)(p,2),g=b[0],v=b[1];return(0,o.useEffect)((function(){console.log(h);var e=Date.now(),t=new Date(e),a=t.toISOString(),r=t.toISOString().split(":");r[1]=parseInt(r[1])+2;var n=r.join(":"),o=setInterval((function(){u().post("https://indoor-localization.net/api/beacon/getRSSI",{startTime:a,endTime:n,beaconMac:"AC233F71C993"}).then((function(e){return s(e.data.data)})),u().post("https://indoor-localization.net/api/beacon/getRSSI",{startTime:a,endTime:n,beaconMac:"AC233F71C930"}).then((function(e){return v(e.data.data)}))}),h);return function(){return clearInterval(o)}}),[h]),console.log(g),console.log(a),(0,f.jsx)("div",{children:a.length<1?(0,f.jsx)("img",{className:"loading-style",src:i,alt:"",height:100,width:200}):(0,f.jsx)("div",{className:"rssi-style",children:(0,f.jsx)(l.x1,{data:{datasets:[{label:"Beacon Mac: AC233F71C993",backgroundColor:"rgba(255, 99, 132, 0.5)",borderColor:"rgb(255, 99, 132)",borderDash:[8,4],fill:!1,data:[]},{label:"Beacon Mac: AC233F71C930",backgroundColor:"rgba(54, 162, 235, 0.5)",borderColor:"rgb(54, 162, 235)",cubicInterpolationMode:"monotone",fill:!1,data:[]}]},options:{scales:{x:{type:"realtime",realtime:{duration:15e3,refresh:2e3,delay:2e3,onRefresh:function(e){var t=Date.now();if(a){var n,o=(0,r.Z)(a);try{for(o.s();!(n=o.n()).done;){var i=n.value;e.data.datasets[0].data.push({x:t,y:i.rssi})}}catch(d){o.e(d)}finally{o.f()}}if(g){var s,l=(0,r.Z)(g);try{for(l.s();!(s=l.n()).done;){var c=s.value;e.data.datasets[1].data.push({x:t,y:c.rssi})}}catch(d){l.e(d)}finally{l.f()}}e.update("quiet")}}},y:{title:{display:!0,text:"rssi"}}},interaction:{intersect:!1}}})})})}}}]);
//# sourceMappingURL=1915.49f1489a.chunk.js.map
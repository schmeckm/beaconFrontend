{"version":3,"sources":["components/CustomModal.js","screens/Gateway/index.js"],"names":["CustomModal","props","modal","setModal","deleteEntry","className","show","onClose","closeButton","onClick","color","Index","React","useState","gatewayList","setGatewayList","id","setId","useEffect","a","fetch","url","method","response","ok","json","data","map","item","index","_id","description","gatewayMac","gatewayFree","gatewayLoad","gatewayX","gatewayY","fetchData","success","deleteData","to","xs","lg","items","fields","columnFilter","tableFilter","itemsPerPageSelect","itemsPerPage","hover","sorter","pagination","scopedSlots","style","cursor","value"],"mappings":"6KAAA,8DAGe,SAASA,EAAYC,GAChC,IAAQC,EAAiCD,EAAjCC,MAAOC,EAA0BF,EAA1BE,SAAUC,EAAgBH,EAAhBG,YAEzB,OACI,qBAAKC,UAAU,mBAAf,SACI,eAAC,KAAD,CACIC,KAAMJ,EACNK,QAASJ,EAFb,UAII,cAAC,KAAD,CAAcK,aAAW,IAEzB,eAAC,KAAD,CAAYH,UAAU,oBAAtB,UACI,+EACA,sBAAKA,UAAU,wCAAf,UACI,wBAAQI,QAAS,kBAAML,GAAN,EAAqBC,UAAU,uBAAhD,0BACA,wBAAQA,UAAU,0CAA0CK,MAAM,YAAYD,QAAS,kBAAMN,GAAS,EAAf,EAAvF,8BAMvB,C,sLClBc,SAASQ,IACtB,IACA,EAAsCC,IAAMC,SAAS,IAArD,mBAAOC,EAAP,KAAoBC,EAApB,KACA,EAAoBH,IAAMC,SAAS,MAAnC,mBAAOG,EAAP,KAAWC,EAAX,KACA,EAA0BL,IAAMC,UAAS,GAAzC,mBAAOX,EAAP,KAAcC,EAAd,KAEAS,IAAMM,WAAU,WAAM,4CAEpB,8BAAAC,EAAA,sEACyBC,MAAMC,IAAM,yBAA0B,CAC3DC,OAAQ,QAFZ,WAKsB,KAJdC,EADR,QAKeC,GALf,gCAMuBD,EAASE,OANhC,OAMUC,EANV,OAOIX,EAAeW,EAAKA,KAAKC,KAAI,SAACC,EAAMC,GAClC,MAAO,CACL,IAAKA,EAAQ,EACb,GAAMD,EAAKE,IACX,YAAeF,EAAKG,YACpB,WAAcH,EAAKI,WACnB,YAAeJ,EAAKK,YACpB,YAAeL,EAAKM,YACpB,SAAYN,EAAKO,SACjB,SAAYP,EAAKQ,SAEpB,KAlBL,4CAFoB,uBAAC,WAAD,wBAuBpBC,EACD,GAAE,IA0CH,OACE,oCACE,cAAC,IAAD,CAAanC,MAAOA,EAAOC,SAAUA,EAAUC,YA1C/B,WAAM,4CACxB,8BAAAe,EAAA,sEACyBC,MAAMC,IAAM,yBAA2BL,EAAI,CAChEM,OAAQ,WAFZ,cACQC,EADR,gBAKqBA,EAASE,OAL9B,OAMsB,GANtB,OAMWa,UAGQD,EAHS,uCAGxB,8BAAAlB,EAAA,sEACyBC,MAAMC,IAAM,yBAA0B,CAC3DC,OAAQ,QAFZ,WAKsB,KAJdC,EADR,QAKeC,GALf,gCAMuBD,EAASE,OANhC,OAMUC,EANV,OAOIX,EAAeW,EAAKA,KAAKC,KAAI,SAACC,EAAMC,GAClC,MAAO,CACL,IAAKA,EAAQ,EACb,GAAMD,EAAKE,IACX,YAAeF,EAAKG,YACpB,WAAcH,EAAKI,WACnB,YAAeJ,EAAKK,YACpB,YAAeL,EAAKM,YACpB,SAAYN,EAAKO,SACjB,SAAYP,EAAKQ,SAEpB,KAlBL,2CAHwB,qDACxBjC,GAAS,GACTc,EAAM,IAsBNoB,KA9BJ,2CADwB,yBAAC,WAAD,wBAkCxBE,EACD,IAQG,cAAC,IAAD,CAAMlC,UAAU,4BAA4BmC,GAAG,kBAA/C,4BACA,cAAC,IAAD,CAAMC,GAAG,KAAKC,GAAG,KAAjB,SACE,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,CACEC,MAAO7B,EACP8B,OAhFG,CAAC,IAAK,cAAc,aAAc,cAAe,cAAe,WAAY,WAAY,UAiF3FC,cAAY,EACZC,aAAW,EACXC,oBAAkB,EAClBC,aAAc,EACdC,OAAK,EACLC,QAAM,EACNC,YAAU,EACVC,YAAa,CACX,OAAU,SAACxB,GAAD,OACR,+BACE,cAAC,IAAD,CAAMvB,UAAU,OAAOmC,GAAE,wBAAmBZ,EAAKZ,IAAjD,SAAuD,mBAAGX,UAAU,eAAe,cAAY,WAC/F,mBAAGgD,MAAO,CAAEC,OAAQ,WAAa7C,QAAS,kBAzB1C8C,EAyB0D3B,EAAKZ,GAxB/EC,EAAMsC,QACNpD,GAAS,GAFO,IAAAoD,CAyB0C,EAA0BlD,UAAU,cAAc,cAAY,WAHlG,aAczB,C","file":"static/js/18.5dc330bd.chunk.js","sourcesContent":["import { CButton, CModal, CModalBody, CModalFooter, CModalHeader } from '@coreui/react'\nimport React from 'react'\n\nexport default function CustomModal(props) {\n    const { modal, setModal, deleteEntry } = props;\n\n    return (\n        <div className='delete_modal_box'>\n            <CModal\n                show={modal}\n                onClose={setModal}\n            >\n                <CModalHeader closeButton>\n                </CModalHeader>\n                <CModalBody className='delete_modal_body'>\n                    <p> Are you sure you want to delete this record ?</p>\n                    <div className='btn-div-modal-group delete_modal_Btns'>\n                        <button onClick={() => deleteEntry()} className='delete_modal_yes_Btn'>Yes, Approve</button>\n                        <button className='btn btn-primary delete_modal_cancel_Btn' color=\"secondary\" onClick={() => setModal(false)}>Cancel</button>\n                    </div>\n                </CModalBody>\n            </CModal>\n        </div>\n    )\n}\n","import { CBadge, CCard, CCardBody, CCol, CDataTable } from '@coreui/react';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { url } from '../../helpers/helpers';\nimport CustomModal from '../../components/CustomModal';\n\nexport default function Index() {\n  const fields = ['#', 'description','gatewayMac', 'gatewayFree', 'gatewayLoad', 'gatewayX', 'gatewayY', 'action'];\n  const [gatewayList, setGatewayList] = React.useState([]);\n  const [id, setId] = React.useState(null);\n  const [modal, setModal] = React.useState(false);\n\n  React.useEffect(() => {\n\n    async function fetchData() {\n      const response = await fetch(url + 'gateway/getAllGateways', {\n        method: 'GET',\n      })\n\n      if (response.ok === true) {\n        const data = await response.json();\n        setGatewayList(data.data.map((item, index) => {\n          return {\n            '#': index + 1,\n            'id': item._id,\n            'description': item.description,\n            'gatewayMac': item.gatewayMac,\n            'gatewayFree': item.gatewayFree,\n            'gatewayLoad': item.gatewayLoad,\n            'gatewayX': item.gatewayX,\n            'gatewayY': item.gatewayY,\n          }\n        }))\n      }\n    }\n    fetchData();\n  }, [])\n\n  const deleteEntry = () => {\n    async function deleteData() {\n      const response = await fetch(url + 'gateway/deleteGateway/' + id, {\n        method: 'DELETE',\n      })\n\n      const data = await response.json();\n      if (data.success == true) {\n        setModal(false);\n        setId('');\n        async function fetchData() {\n          const response = await fetch(url + 'gateway/getAllGateways', {\n            method: 'GET',\n          })\n\n          if (response.ok === true) {\n            const data = await response.json();\n            setGatewayList(data.data.map((item, index) => {\n              return {\n                '#': index + 1,\n                'id': item._id,\n                'description': item.description,\n                'gatewayMac': item.gatewayMac,\n                'gatewayFree': item.gatewayFree,\n                'gatewayLoad': item.gatewayLoad,\n                'gatewayX': item.gatewayX,\n                'gatewayY': item.gatewayY,\n              }\n            }))\n          }\n        }\n        fetchData();\n      }\n    }\n    deleteData();\n  }\n  const showModal = value => {\n    setId(value);\n    setModal(true)\n  }\n  return (\n    <section>\n      <CustomModal modal={modal} setModal={setModal} deleteEntry={deleteEntry} />\n      <Link className=\"btn btn-primary mb-3 ml-3\" to='/create/gateway'>Create Gateway</Link>\n      <CCol xs=\"12\" lg=\"12\">\n        <CCard>\n          <CCardBody>\n            <CDataTable\n              items={gatewayList}\n              fields={fields}\n              columnFilter\n              tableFilter\n              itemsPerPageSelect\n              itemsPerPage={5}\n              hover\n              sorter\n              pagination\n              scopedSlots={{\n                'action': (item) => (\n                  <td>\n                    <Link className=\"mr-2\" to={`/edit/gateway/${item.id}`}><i className=\"fa fa-pencil\" aria-hidden=\"true\"></i></Link>\n                    <i style={{ cursor: \"pointer\" }} onClick={() => showModal(item.id)} className=\"fa fa-trash\" aria-hidden=\"true\"></i>\n                  </td>\n                )\n              }\n              }\n            />\n          </CCardBody>\n        </CCard>\n      </CCol>\n    </section>\n  )\n}"],"sourceRoot":""}
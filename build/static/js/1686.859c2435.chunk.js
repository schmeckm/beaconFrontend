"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[1686],{46967:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var a=t(72791),o=t(1413),r=t(79271),s=t(39868),i=t(13962),c=t(80184),l=(0,c.jsx)("div",{className:"pt-3 text-center",children:(0,c.jsx)("div",{className:"sk-spinner sk-spinner-pulse"})}),u=function(){return(0,c.jsx)("main",{className:"c-main",children:(0,c.jsx)(s.KB,{fluid:!0,children:(0,c.jsx)(a.Suspense,{fallback:l,children:(0,c.jsxs)(r.rs,{children:[i.Z.map((function(e,n){return e.component&&(0,c.jsx)(r.AW,{path:e.path,exact:e.exact,name:e.name,render:function(n){return(0,c.jsx)(s.y2,{children:(0,c.jsx)(e.component,(0,o.Z)({},n))})}},n)})),(0,c.jsx)(r.l_,{from:"/",to:"/dashboard"})]})})})})},m=a.memo(u),d=function(){return(0,c.jsx)(s.pG,{fixed:!1,children:(0,c.jsx)("div",{className:"mfs-auto"})})},p=a.memo(d),h=t(16030),f=t(16516),b=function(){var e=(0,h.I0)(),n=(0,h.v9)((function(e){return e.sidebarShow}));return(0,c.jsxs)(s.PO,{withSubheader:!0,children:[(0,c.jsx)(s.FP,{inHeader:!0,className:"ml-md-3 d-lg-none",onClick:function(){var t=!![!1,"responsive"].includes(n)||"responsive";e({type:"set",sidebarShow:t})}}),(0,c.jsx)(s.FP,{inHeader:!0,className:"ml-3 d-md-down-none",onClick:function(){var t=![!0,"responsive"].includes(n)&&"responsive";e({type:"set",sidebarShow:t})}}),(0,c.jsx)(s.qy,{className:"mx-auto d-lg-none",to:"/"}),(0,c.jsx)(s.g3,{className:"d-md-down-none mr-auto"}),(0,c.jsx)(s.g3,{className:"px-3"}),(0,c.jsx)(s.Mj,{className:"px-3 justify-content-between",children:(0,c.jsx)(s.s_,{className:"border-0 c-subheader-nav m-0 px-0 px-md-3",routes:i.Z})})]})},x=(t(79690),[{_tag:"CSidebarNavItem",name:"Dashboard",to:"/dashboard",icon:(0,c.jsx)(f.ZP,{name:"cil-home",customClasses:"c-sidebar-nav-icon"})},{_tag:"CSidebarNavDropdown",name:"Masters",route:"/base",icon:"cil-apps",_children:[{_tag:"CSidebarNavItem",name:"Gateway",to:"/gatewayList"},{_tag:"CSidebarNavItem",name:"Beacon",to:"/beaconList"},{_tag:"CSidebarNavItem",name:"Environment",to:"/environmentList"},{_tag:"CSidebarNavItem",name:"Zone",to:"/zoneList"}]},{_tag:"CSidebarNavDropdown",name:"Beacon Configuration",route:"/base",icon:"cil-speedometer",_children:[{_tag:"CSidebarNavItem",name:"Get Position",to:"/get-beacon-position"},{_tag:"CSidebarNavItem",name:"Calculate Power",to:"/calculate-tx-power"}]},{_tag:"CSidebarNavDropdown",name:"Fingerprinting",route:"/base",icon:"cil-fingerprint",_children:[{_tag:"CSidebarNavItem",name:"Start/Stop Fingerprinting",to:"/fingerprinting"},{_tag:"CSidebarNavItem",name:"Get ML Data Environment",to:"/get-mldata-environment"}]},{_tag:"CSidebarNavItem",name:"Get Beacon Lookup",to:"/beacon-positions-lookup",icon:(0,c.jsx)(f.ZP,{name:"cil-map",customClasses:"c-sidebar-nav-icon"})},{_tag:"CSidebarNavItem",name:"System Settings",to:"/systemSettings",icon:(0,c.jsx)(f.ZP,{name:"cil-settings",customClasses:"c-sidebar-nav-icon"})}]),g=function(){var e=(0,h.I0)(),n=(0,h.v9)((function(e){return e.sidebarShow}));return(0,c.jsxs)(s.z3,{show:n,onShowChange:function(n){return e({type:"set",sidebarShow:n})},children:[(0,c.jsx)(s.Dl,{className:"d-md-down-none",to:"/"}),(0,c.jsx)(s.Xk,{children:(0,c.jsx)(s.gP,{items:x,components:{CSidebarNavDivider:s.IE,CSidebarNavDropdown:s.Uu,CSidebarNavItem:s.g$,CSidebarNavTitle:s.Ig}})}),(0,c.jsx)(s.p_,{className:"c-d-md-down-none"})]})},v=a.memo(g),y=function(){return(0,c.jsxs)("div",{className:"c-app c-default-layout",children:[(0,c.jsx)(v,{}),(0,c.jsxs)("div",{className:"c-wrapper",children:[(0,c.jsx)(b,{}),(0,c.jsx)("div",{className:"c-body",children:(0,c.jsx)(m,{})}),(0,c.jsx)(p,{})]})]})}},16094:function(e,n,t){t.d(n,{HQ:function(){return a}});var a="https://indoor-localization.net/api/"},13962:function(e,n,t){t.d(n,{Z:function(){return V}});var a=t(72791),o=t(15861),r=t(70885),s=t(64687),i=t.n(s),c=t(16094),l=t(47239),u=t(30577),m=t(74569),d=t.n(m),p=t(80184);var h=t(1413),f=t(37762),b=t(39868),x=t(64802),g=t(34045),v=function(e){var n=e.csvData,t=e.fileName,a=[];n.map((function(e,n){a.push({"#":n+1,Timestamp:new Date(e.timestamp).toString(),environment:null===e||void 0===e?void 0:e.environment,gateway1Mac:e.gateway1Mac,gateway1Rssi:e.gateway1Rssi,gateway2Mac:e.gateway2Mac,gateway2Rssi:e.gateway2Rssi,gateway3Mac:e.gateway3Mac,gateway3Rssi:e.gateway3Rssi,beacon:e.beacon,zone_id:e.zone_id})}));return(0,p.jsx)("button",{style:{display:"none"},id:"export-excel-button",className:"btn btn-primary",onClick:function(e){return function(e,n){var t={Sheets:{data:g.P6.json_to_sheet(e)},SheetNames:["data"]},a=g.cW(t,{bookType:"xlsx",type:"array"}),o=new Blob([a],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});x.saveAs(o,n+".xlsx")}(a,t)},children:"Export As Excel"})};var y=function(){var e=(0,a.useState)([]),n=(0,r.Z)(e,2);n[0],n[1];return(0,a.useEffect)((function(){fetch(c.HQ+"beacon/getPosition",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({startTime:(new Date).toISOString(),endTime:(new Date).toISOString()})})}),[]),(0,p.jsx)("div",{children:(0,p.jsx)("h1",{children:"We will implement map here"})})},j=a.lazy((function(){return t.e(1820).then(t.bind(t,51820))})),w=a.lazy((function(){return t.e(1299).then(t.bind(t,1299))})),S=a.lazy((function(){return t.e(6692).then(t.bind(t,96692))})),z=a.lazy((function(){return t.e(6857).then(t.bind(t,76857))})),N=a.lazy((function(){return t.e(5310).then(t.bind(t,45310))})),Z=a.lazy((function(){return t.e(7182).then(t.bind(t,47182))})),k=a.lazy((function(){return t.e(1220).then(t.bind(t,1220))})),C=a.lazy((function(){return t.e(8126).then(t.bind(t,38126))})),I=a.lazy((function(){return t.e(5735).then(t.bind(t,75735))})),_=a.lazy((function(){return t.e(1211).then(t.bind(t,31211))})),E=a.lazy((function(){return t.e(1001).then(t.bind(t,61001))})),P=a.lazy((function(){return t.e(1046).then(t.bind(t,81046))})),B=a.lazy((function(){return t.e(2422).then(t.bind(t,72055))})),T=a.lazy((function(){return t.e(713).then(t.bind(t,20713))})),A=a.lazy((function(){return t.e(1266).then(t.bind(t,81266))})),D=a.lazy((function(){return t.e(4134).then(t.bind(t,54134))})),G=a.lazy((function(){return t.e(2670).then(t.bind(t,62670))})),M=a.lazy((function(){return t.e(8623).then(t.bind(t,98623))})),F=a.lazy((function(){return t.e(500).then(t.bind(t,10500))})),H=a.lazy((function(){return t.e(3866).then(t.bind(t,13866))})),L=a.lazy((function(){return t.e(6882).then(t.bind(t,16882))})),R=a.lazy((function(){return Promise.all([t.e(2426),t.e(1777),t.e(2751)]).then(t.bind(t,29958))})),Q=a.lazy((function(){return Promise.all([t.e(2462),t.e(1915)]).then(t.bind(t,61915))})),O=a.lazy((function(){return Promise.all([t.e(3013),t.e(2442),t.e(4017)]).then(t.bind(t,74017))})),U=a.lazy((function(){return Promise.all([t.e(3013),t.e(1737),t.e(327)]).then(t.bind(t,80327))})),W=a.lazy((function(){return Promise.all([t.e(3013),t.e(7096)]).then(t.bind(t,57096))})),J=a.lazy((function(){return t.e(3304).then(t.bind(t,23304))})),q=a.lazy((function(){return t.e(1243).then(t.bind(t,21243))})),K=a.lazy((function(){return t.e(2066).then(t.bind(t,72066))})),X=a.lazy((function(){return t.e(6805).then(t.bind(t,6805))})),$=[{path:"/",exact:!0,name:"Home"},{path:"/dashboard",name:"Dashboard",component:Q},{path:"/theme",name:"Theme",component:X,exact:!0},{path:"/theme/colors",name:"Colors",component:X},{path:"/theme/typography",name:"Typography",component:a.lazy((function(){return t.e(9557).then(t.bind(t,99557))}))},{path:"/base",name:"Base",component:z,exact:!0},{path:"/base/breadcrumbs",name:"Breadcrumbs",component:S},{path:"/base/cards",name:"Cards",component:z},{path:"/base/carousels",name:"Carousel",component:N},{path:"/base/collapses",name:"Collapse",component:Z},{path:"/base/forms",name:"Forms",component:k},{path:"/base/jumbotrons",name:"Jumbotrons",component:C},{path:"/base/list-groups",name:"List Groups",component:I},{path:"/base/navbars",name:"Navbars",component:_},{path:"/base/navs",name:"Navs",component:E},{path:"/base/paginations",name:"Paginations",component:P},{path:"/base/popovers",name:"Popovers",component:B},{path:"/base/progress-bar",name:"Progress Bar",component:T},{path:"/base/switches",name:"Switches",component:A},{path:"/base/tables",name:"Tables",component:w},{path:"/base/tabs",name:"Tabs",component:D},{path:"/base/tooltips",name:"Tooltips",component:G},{path:"/buttons",name:"Buttons",component:L,exact:!0},{path:"/buttons/buttons",name:"Buttons",component:L},{path:"/buttons/button-dropdowns",name:"Dropdowns",component:F},{path:"/buttons/button-groups",name:"Button Groups",component:H},{path:"/buttons/brand-buttons",name:"Brand Buttons",component:M},{path:"/charts",name:"Charts",component:R},{path:"/icons",exact:!0,name:"Icons",component:O},{path:"/icons/coreui-icons",name:"CoreUI Icons",component:O},{path:"/icons/flags",name:"Flags",component:U},{path:"/icons/brands",name:"Brands",component:W},{path:"/notifications",name:"Notifications",component:J,exact:!0},{path:"/notifications/alerts",name:"Alerts",component:J},{path:"/notifications/badges",name:"Badges",component:q},{path:"/notifications/modals",name:"Modals",component:K},{path:"/notifications/toaster",name:"Toaster",component:j},{path:"/widgets",name:"Widgets",component:a.lazy((function(){return Promise.all([t.e(2426),t.e(1777),t.e(2242)]).then(t.bind(t,9682))}))},{path:"/users",exact:!0,name:"Users",component:a.lazy((function(){return t.e(5966).then(t.bind(t,95966))}))},{path:"/users/:id",exact:!0,name:"User Details",component:a.lazy((function(){return t.e(3409).then(t.bind(t,83409))}))},{path:"/create/gateway",exact:!0,name:"Create Gateway",component:a.lazy((function(){return t.e(6715).then(t.bind(t,6715))}))},{path:"/edit/gateway/:id",exact:!0,name:"Edit Gateway",component:a.lazy((function(){return t.e(1225).then(t.bind(t,31225))}))},{path:"/gatewayList",exact:!0,name:"Gateway List",component:a.lazy((function(){return t.e(5842).then(t.bind(t,25842))}))},{path:"/create/beacon",exact:!0,name:"Create Beacon",component:a.lazy((function(){return t.e(247).then(t.bind(t,90247))}))},{path:"/edit/beacon/:id",exact:!0,name:"Edit Beacon",component:a.lazy((function(){return t.e(6326).then(t.bind(t,86326))}))},{path:"/beaconList",exact:!0,name:"Beacon List",component:a.lazy((function(){return t.e(5652).then(t.bind(t,35652))}))},{path:"/create/environment",exact:!0,name:"Create Environment",component:a.lazy((function(){return t.e(9921).then(t.bind(t,69921))}))},{path:"/edit/environment/:id",exact:!0,name:"Edit Environment",component:a.lazy((function(){return t.e(3755).then(t.bind(t,43755))}))},{path:"/environmentList",exact:!0,name:"Environment List",component:a.lazy((function(){return t.e(4613).then(t.bind(t,74613))}))},{path:"/create/zone",exact:!0,name:"Create Zone",component:a.lazy((function(){return t.e(6300).then(t.bind(t,26300))}))},{path:"/edit/zone/:id",exact:!0,name:"Edit Zone",component:a.lazy((function(){return t.e(2650).then(t.bind(t,42650))}))},{path:"/zoneList",exact:!0,name:"Zone List",component:a.lazy((function(){return t.e(209).then(t.bind(t,70209))}))},{path:"/systemSettings",exact:!0,name:"System Settings",component:a.lazy((function(){return t.e(7640).then(t.bind(t,17640))}))},{path:"/get-beacon-position",exact:!0,name:"Get Beacon Position",component:a.lazy((function(){return Promise.all([t.e(2426),t.e(2237)]).then(t.bind(t,62237))}))},{path:"/calculate-tx-power",exact:!0,name:"Calculate Tx Power",component:function(){var e=a.useState([]),n=(0,r.Z)(e,2),t=n[0],s=n[1],m=a.useState(""),h=(0,r.Z)(m,2),f=h[0],b=h[1],x=a.useState([]),g=(0,r.Z)(x,2),v=g[0],y=g[1],j=a.useState(""),w=(0,r.Z)(j,2),S=w[0],z=w[1],N=a.useState([]),Z=(0,r.Z)(N,2),k=Z[0],C=Z[1],I=(0,a.useState)(""),_=(0,r.Z)(I,2),E=_[0],P=_[1];return a.useEffect((function(){function e(){return(e=(0,o.Z)(i().mark((function e(){var n,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(c.HQ+"dbBeacon/getAllBeacons",{method:"GET"});case 2:if(!0!==(n=e.sent).ok){e.next=8;break}return e.next=6,n.json();case 6:t=e.sent,s(t.data.map((function(e,n){return{value:e._id,label:e.beaconMac}})));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(){return(n=(0,o.Z)(i().mark((function e(){var n,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(c.HQ+"gateway/getAllGateways",{method:"GET"});case 2:if(!0!==(n=e.sent).ok){e.next=8;break}return e.next=6,n.json();case 6:t=e.sent,y(t.data.map((function(e,n){return{value:e._id,label:e.gatewayMac}})));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),console.log(k),function(){n.apply(this,arguments)}()}),[]),(0,p.jsxs)("div",{className:"container create-page-main-section",children:[(0,p.jsx)("div",{className:"p-sm-5 create-form-field",children:(0,p.jsxs)("form",{onSubmit:function(e){return function(e){if(e.preventDefault(),f&&S){var n=function(){var e=(0,o.Z)(i().mark((function e(){var n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d().post(c.HQ+"beacon/calculateTxPower",t);case 2:if(n=e.sent,console.log("beacon: ",f.label),console.log("gateway",S.label),console.log(n),200!=n.status){e.next=16;break}return e.next=9,n.data;case 9:a=e.sent,u.Am.info(a.data.message),console.log(a.data.observations),C(a.data.observations),P(a.data.value),e.next=17;break;case 16:u.Am.error(n.data.data.message);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t={beaconMac:f.label,gatewayMac:S.label};n()}else u.Am.error("Please select beacon & gateway")}(e)},children:[(0,p.jsxs)("div",{className:"row",children:[(0,p.jsxs)("div",{className:"col-md-4 form-group",children:[(0,p.jsx)("label",{children:"Beacon"}),(0,p.jsx)(l.ZP,{value:f,onChange:b,options:t})]}),(0,p.jsxs)("div",{className:"col-md-4 form-group",children:[(0,p.jsx)("label",{children:"Gateway"}),(0,p.jsx)(l.ZP,{value:S,onChange:z,options:v})]}),E&&(0,p.jsx)("div",{className:"col-md-4 form-group d-flex justify-content-center align-items-center",children:(0,p.jsxs)("p",{className:"mb-0 mt-4 median-value",children:["Median value: ",parseFloat(E).toFixed(3)]})})]}),(0,p.jsxs)("div",{className:"d-flex justify-content-center create-catagory-btns",children:[(0,p.jsxs)("button",{onClick:function(){return window.history.back()},type:"button",className:"font-weight-bold m-3 py-2 px-4 btn btn-danger",children:["Cancel",(0,p.jsx)("i",{className:"px-2 fa fa-times","aria-hidden":"true"})]}),(0,p.jsxs)("button",{type:"submit",className:"font-weight-bold m-3 py-2 px-4 btn btn-success",children:["Execute",(0,p.jsx)("i",{className:"px-2 fa fa-floppy-o","aria-hidden":"true"})]})]})]})}),k.length>0&&(0,p.jsxs)("table",{className:"observation-table",children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{children:"#"}),(0,p.jsx)("th",{children:"Observations"})]})}),(0,p.jsx)("tbody",{children:k.map((function(e,n){return(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:n+1}),(0,p.jsx)("td",{children:e})]},n)}))})]}),(0,p.jsx)(u.Ix,{})]})}},{path:"/fingerprinting",exact:!0,name:"Start Stop Fingerprinting",component:function(){var e=a.useState([]),n=(0,r.Z)(e,2),t=n[0],s=n[1],m=a.useState(""),h=(0,r.Z)(m,2),f=h[0],x=h[1],g=a.useState([]),v=(0,r.Z)(g,2),y=v[0],j=v[1],w=a.useState(""),S=(0,r.Z)(w,2),z=S[0],N=S[1],Z=a.useState([]),k=(0,r.Z)(Z,2),C=k[0],I=k[1],_=a.useState([]),E=(0,r.Z)(_,2),P=E[0],B=E[1],T=a.useState(""),A=(0,r.Z)(T,2),D=A[0],G=A[1],M=a.useState(""),F=(0,r.Z)(M,2),H=F[0],L=F[1],R=(0,a.useState)(31),Q=(0,r.Z)(R,2),O=Q[0],U=Q[1],W=a.useState("0"),J=(0,r.Z)(W,2),q=J[0],K=J[1],X=(0,a.useState)([]),$=(0,r.Z)(X,2),V=($[0],$[1]),Y=(0,a.useState)([]),ee=(0,r.Z)(Y,2),ne=ee[0],te=ee[1];a.useEffect((function(){function e(){return(e=(0,o.Z)(i().mark((function e(){var n,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(c.HQ+"dbBeacon/getAllBeacons",{method:"GET"});case 2:if(!0!==(n=e.sent).ok){e.next=8;break}return e.next=6,n.json();case 6:t=e.sent,j(t.data.map((function(e,n){return{value:e._id,label:e.beaconMac}})));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(){return(n=(0,o.Z)(i().mark((function e(){var n,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(c.HQ+"environment/getAllEnvironments",{method:"GET"});case 2:if(!0!==(n=e.sent).ok){e.next=8;break}return e.next=6,n.json();case 6:t=e.sent,s(t.data.map((function(e,n){return{value:e._id,label:e.name}})));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t(){return(t=(0,o.Z)(i().mark((function e(){var n,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(c.HQ+"zone/getAllZones",{method:"GET"});case 2:if(!0!==(n=e.sent).ok){e.next=9;break}return e.next=6,n.json();case 6:t=e.sent,console.log(t),I(t.data.map((function(e,n){return{"#":n+1,id:e._id,zoneId:e.zone_ids.zoneId,description:e.zone_ids.description,environment:e.environments.description}})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),function(){n.apply(this,arguments)}(),function(){t.apply(this,arguments)}()}),[]),(0,a.useEffect)((function(){function e(){return(e=(0,o.Z)(i().mark((function e(){var n,t,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(c.HQ+"systemSettings/getSystemSettings/",{method:"GET"});case 2:if(!0!==(n=e.sent).ok){e.next=10;break}return e.next=6,n.json();case 6:1==(t=e.sent).success?(a=t.data,K(a[0].gatewayInterval)):u.Am.error("Oops something went wrong!"),e.next=11;break;case 10:u.Am.error("Response not fetched properly");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}();var n=setInterval((function(){return O<31?(console.log(O),30===O&&D&&(oe(D),console.log(D),console.log("30 reached")),U(O+1)):O}),1e3*q);return function(){return clearInterval(n)}}));var ae=function(){var e=(0,o.Z)(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(f.value),console.log(z.label),console.log(n),d().post(c.HQ+"fingerprint/startFingerPrinting",{environment:null===f||void 0===f?void 0:f.value,beaconId:z.label,zoneId:n}).then((function(e){console.log(e),u.Am.info("Rssi value counting started for zone "+n)})).catch((function(e){u.Am.error(e)}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),oe=function(){var e=(0,o.Z)(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d().post(c.HQ+"fingerprint/stopFingerPrinting",{environment:null===f||void 0===f?void 0:f.value,beaconId:z.label,zoneId:n}).then((function(e){console.log(e),document.getElementById(D-1).style.background="#05cdfa",u.Am.info("Rssi value counting finished for zone "+n)})).catch((function(e){u.Am.error(e)}));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,p.jsxs)("div",{className:"container create-page-main-section",children:[(0,p.jsxs)("div",{className:"p-sm-5 create-form-field",children:[(0,p.jsxs)("div",{className:"row",children:[(0,p.jsxs)("div",{className:"col-md-4 form-group",children:[(0,p.jsx)("label",{children:"Environment"}),(0,p.jsx)(l.ZP,{options:t,value:f,onChange:function(e){x(e),console.log(C[0].environment),console.log(e.label);var n=[];C.map((function(t){t.environment==e.label&&n.push(t)})),B(n);var t=function(){var e=(0,o.Z)(i().mark((function e(n){var t,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d().get(c.HQ+"fingerprint/getAllFingerPrinting/".concat(n.value));case 2:a=e.sent,V(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.data),te(a.data.data[0].zone_id);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();e&&t(e)}})]}),(0,p.jsxs)("div",{className:"col-md-4 form-group",children:[(0,p.jsx)("label",{children:"Beacon"}),(0,p.jsx)(l.ZP,{options:y,value:z,onChange:N})]}),(0,p.jsxs)("div",{className:"col-md-4 form-group",children:[(0,p.jsx)("label",{className:"mx-auto",children:"RSSI"}),(0,p.jsx)("p",{children:31!==O?O:"RSSI not started yet"})]})]}),(0,p.jsx)(u.Ix,{})]}),P.length>0&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("h3",{className:"text-center my-3",children:"Select Zone"}),(0,p.jsx)("div",{id:"grid-table",className:"row",children:P.map((function(e,n){return(0,p.jsx)("button",{className:"col-md-4 btn-grid",id:"".concat(n),onClick:function(){return function(e,n){G(e.zoneId),D?(document.getElementById(H).style.background="#05cdfa",document.getElementById(n).style.background="#f2321d",document.getElementById(n).disabled=!0,L(n),ae(e.zoneId),U(0)):(document.getElementById(n).style.background="#f2321d",document.getElementById(n).disabled=!0,L(n),ae(e.zoneId),U(0))}(e,n)},disabled:31!==O,children:e.zoneId},n)}))}),(0,p.jsx)("div",{className:"mx-auto mt-3 button-position",children:(0,p.jsx)("button",{onClick:function(){if(P.length>0){for(var e=0;e<P.length;e++)document.getElementById(e).style.background="#1cf71c",U(31),document.getElementById(e).disabled=!1;u.Am.info("Zones reseted successfully!")}else u.Am.error("Zones reset failed!")},className:"reset-btn",children:"Reset"})}),(0,p.jsx)(b.b7,{xs:"12",lg:"12",children:(0,p.jsxs)(b.xH,{children:[(0,p.jsx)("h3",{className:"text-center mt-2",children:"Zone Details of Current Environment"}),(0,p.jsx)(b.sl,{children:(0,p.jsx)(b.x,{items:ne,fields:["id","startTime","endTime"],columnFilter:!0,tableFilter:!0,itemsPerPageSelect:!0,itemsPerPage:5,hover:!0,sorter:!0,pagination:!0})})]})})]})]})}},{path:"/get-mldata-environment",exact:!0,name:"Get ML Data By Environment",component:function(){var e=a.useState([]),n=(0,r.Z)(e,2),t=n[0],s=n[1],m=a.useState({}),d=(0,r.Z)(m,2),x=d[0],g=d[1],y=a.useState([]),j=(0,r.Z)(y,2),w=j[0],S=j[1];return a.useEffect((function(){function e(){return(e=(0,o.Z)(i().mark((function e(){var n,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(c.HQ+"environment/getAllEnvironments",{method:"GET"});case 2:if(!0!==(n=e.sent).ok){e.next=9;break}return e.next=6,n.json();case 6:t=e.sent,console.log(t),s(t.data.map((function(e,n){return{value:e._id,label:e.name}})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,p.jsxs)("section",{children:[(0,p.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[(0,p.jsxs)("div",{className:"col-md-5 form-group",children:[(0,p.jsx)("label",{children:"Environment"}),(0,p.jsx)(l.ZP,{options:t,value:x,onChange:g})]}),(0,p.jsx)("button",{onClick:function(){return function(){if(console.log(x),x){var e=function(){var e=(0,o.Z)(i().mark((function e(){var n,t,a,o,r,s,l,m,d,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(c.HQ+"fingerprint/getMLDataByEnvironment/".concat(x.value));case 2:return n=e.sent,e.next=5,n.json();case 5:if(t=e.sent,console.log(t),1==t.success){a=t.data,o=[],r=(0,f.Z)(a);try{for(r.s();!(s=r.n()).done;)l=s.value,m=l.timestamp.split("T"),d=m[0],p=m[1].slice(0,-1).split(".")[0],o.push((0,h.Z)((0,h.Z)({},l),{},{Date:d,Time:p}))}catch(i){r.e(i)}finally{r.f()}S(o),u.Am.info("Showing result for Environment ".concat(x.value))}else u.Am.error(t.message);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}else u.Am.error("Please select environment")}()},className:"btn btn-primary",style:{height:"fit-content"},children:"Filter"}),(0,p.jsx)("button",{onClick:function(){document.getElementById("export-excel-button").click()},className:"ml-3 btn btn-success",style:{height:"fit-content"},children:"Export Excel"}),(0,p.jsx)(v,{csvData:w})]}),(0,p.jsx)(b.b7,{xs:"12",lg:"12",children:(0,p.jsx)(b.xH,{children:(0,p.jsx)(b.sl,{children:(0,p.jsx)(b.x,{items:w,fields:["Date","Time","environment","gateway1Mac","gateway1Rssi","gateway2Mac","gateway2Rssi","gateway3Mac","gateway3Rssi","beacon","zone_id"],columnFilter:!0,tableFilter:!0,itemsPerPageSelect:!0,itemsPerPage:5,hover:!0,sorter:!0,pagination:!0})})})}),(0,p.jsx)(u.Ix,{})]})}},{path:"/beacon-positions-lookup",exact:!0,name:"Beacon Positions Lookup",component:y}],V=$}}]);
//# sourceMappingURL=1686.859c2435.chunk.js.map
{"version":3,"sources":["screens/SystemSettings/settings.js"],"names":["Edit","React","useState","plexValue","setPlexValue","cronValue","setCronValue","rssiDeleteTime","setRSSIDeleteTime","fingerPrintDocuments","setFingerPrintDocuments","median","setMedian","useEffect","a","fetch","url","method","response","ok","json","data","success","settings_detail","toast","error","fetchData","className","onSubmit","e","plexvalue","cronvalue","rssideletetime","fingerprintdocuments","Median","console","log","headers","body","JSON","stringify","response1","response2","response3","response4","preventDefault","submitData","handleSubmit","class","for","required","value","onChange","target","type","id","checked","onClick","window","location","reload"],"mappings":"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","file":"static/js/58.8544950c.chunk.js","sourcesContent":["import React from 'react'\nimport { url } from '../../helpers/helpers';\nimport { ToastContainer, toast } from 'react-toastify';\nexport default function Edit() {\n    const [plexValue, setPlexValue] = React.useState('');\n    const [cronValue, setCronValue] = React.useState('');\n    const [rssiDeleteTime, setRSSIDeleteTime] = React.useState('');\n    const [fingerPrintDocuments, setFingerPrintDocuments] = React.useState('');\n    const [median, setMedian] = React.useState(false);\n    \n    React.useEffect(() => {\n        async function fetchData() {\n            const response = await fetch(url + 'systemSettings/getSystemSettings/', {\n                method: 'GET',\n            })\n            if (response.ok === true){\n                const data = await response.json();\n                if(data.success == true){\n                    const settings_detail = data.data;\n                    setPlexValue(settings_detail[0].plexValue);\n                    setCronValue(settings_detail[0].cronValue);\n                    setRSSIDeleteTime(settings_detail[0].rssiDeleteTime);\n                    setFingerPrintDocuments(settings_detail[0].fingerPrintDocuments);\n                    setMedian(settings_detail[0].median);\n                }else{\n                    toast.error(\"Oops something went wrong!\")\n                }\n            }\n            else toast.error('Response not fetched properly');\n        }\n        fetchData();\n    }, [])\n     \n    const handleSubmit = e => {\n        e.preventDefault();\n        async function submitData() {\n            let plexvalue = {\n                \"plexValue\": plexValue\n            }\n            let cronvalue = {\n                \"cronValue\": cronValue\n            }\n            let rssideletetime = {\n                \"rssiDeleteTime\": rssiDeleteTime\n            }\n            let fingerprintdocuments = {\n                \"fingerPrintDocuments\": fingerPrintDocuments\n            }\n            let Median = {\n                \"median\" : median\n            }\n            console.log(median);\n            const response = await fetch(url + 'systemSettings/addPlexValue/', {\n                method: 'POST',\n                headers : {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(plexvalue)\n            })\n            if(response.ok === true){\n                const data = await response.json();\n                if(data.success == true){                    \n                  console.log('Plex value successfully updated');\n                }\n                else toast.error('Internal Server Error');\n            }\n            \n            const response1 = await fetch(url + 'systemSettings/addCronValue/', {\n                method: 'POST',\n                headers : {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(cronvalue)\n            })\n            if(response1.ok === true){\n                const data = await response1.json();\n                if(data.success == true){\n                    console.log('Cron value successfully updated');                    \n                }\n                else toast.error('Internal Server Error');\n            }\n\n            const response2 = await fetch(url + 'systemSettings/rssiDeleteTime/', {\n                method: 'POST',\n                headers : {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(rssideletetime)\n            })\n            if(response2.ok === true){\n                const data = await response2.json();\n                if(data.success == true){\n                    console.log('RSSI Delete Time successfully updated');                    \n                }\n                else toast.error('Internal Server Error');\n            }\n\n            const response3 = await fetch(url + 'systemSettings/addFingerPrintDocuments/', {\n                method: 'POST',\n                headers : {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(fingerprintdocuments)\n            })\n\n            if(response3.ok === true){\n                const data = await response3.json();\n                if(data.success == true){\n                    console.log('Finger Print Documents successfully updated');                    \n                }\n                else toast.error('Internal Server Error');\n            }\n            \n            const response4 = await fetch(url + 'systemSettings/addMedian/', {\n                method: 'POST',\n                headers : {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(Median)\n            })\n\n            if (response4.ok === true) {\n                const data = await response4.json();\n                if(data.success == true) {\n                    console.log('Median Successfully updated');\n                    toast.success(\"Values Updated Successfully\");\n                }else {\n                    toast.error(\"Internal Server Error!\");\n                }\n            }\n        }\n        submitData();\n    }\n\n    return (\n        <div className=\"container create-page-main-section\">\n            <form onSubmit={e => handleSubmit(e)}>\n                <div className='p-sm-5 create-form-field'>\n                    <div class=\"form-group row\">\n                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">Plex Value:<span className='required-label'>*</span></label>\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\n                            <input required value={plexValue} onChange={e => setPlexValue(e.target.value)} type=\"text\" class=\"form-control\" id=\"inputPassword\" />\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">Cron Value:<span className='required-label'>*</span></label>\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\n                            <input required value={cronValue} onChange={e => setCronValue(e.target.value)} type=\"text\" class=\"form-control\" id=\"inputPassword\" />\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">RSSI Delete Time:<span className='required-label'>*</span></label>\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\n                            <input required value={rssiDeleteTime} onChange={e => setRSSIDeleteTime(e.target.value)} type=\"text\" class=\"form-control\" id=\"inputPassword\" />\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">Finger Print Documents:<span className='required-label'>*</span></label>\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\n                            <input required value={fingerPrintDocuments} onChange={e => setFingerPrintDocuments(e.target.value)} type=\"text\" class=\"form-control\" id=\"inputPassword\" />\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">Median:</label>\n                        <div class=\"d-flex b-0 col-sm-1\">\n                        <input checked={median} type=\"checkbox\" onChange={e => setMedian(!median)} id=\"inputPassword\" />\n                        </div>\n                    </div>\n                </div>\n                <div class=\"d-flex justify-content-center create-catagory-btns\">\n                    <button onClick={() => window.location.reload()} type=\"button\" class=\"font-weight-bold m-3 py-2 px-4 btn btn-danger\">Cancel<i\n                        class=\"px-2 fa fa-times\" aria-hidden=\"true\"></i></button>\n                    <button type=\"submit\" class=\"font-weight-bold m-3 py-2 px-4 btn btn-success\">Save<i\n                        class=\"px-2 fa fa-floppy-o\" aria-hidden=\"true\"></i></button>\n                </div>\n            </form>\n            <ToastContainer />\n        </div>\n    )\n}"],"sourceRoot":""}
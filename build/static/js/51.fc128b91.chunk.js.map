{"version":3,"sources":["screens/Beacon/edit.js"],"names":["Edit","id","useParams","React","useState","beaconMac","setBeaconMac","description","setDescription","useEffect","a","fetch","url","method","response","ok","json","data","success","beacon_detail","toast","error","fetchData","className","onSubmit","e","headers","body","JSON","stringify","window","location","origin","preventDefault","submitData","handleSubmit","htmlFor","readOnly","value","type","onChange","target","onClick","history","back"],"mappings":"sTAKe,SAASA,IACpB,IAAQC,EAAOC,cAAPD,GACR,EAAkCE,IAAMC,SAAS,IAAjD,mBAAOC,EAAP,KAAkBC,EAAlB,KACA,EAAsCH,IAAMC,SAAS,IAArD,mBAAOG,EAAP,KAAoBC,EAApB,KAqDA,OAtBAL,IAAMM,WAAU,WAAM,4CAClB,gCAAAC,EAAA,sEAC2BC,MAAMC,IAAM,4BAA8BX,EAAI,CACjEY,OAAQ,QAFhB,WAKwB,KAJdC,EADV,QAKiBC,GALjB,iCAM2BD,EAASE,OANpC,OAO4B,IADdC,EANd,QAOiBC,SACCC,EAAgBF,EAAKA,KAC3BX,EAAaa,EAAcd,WAC3BG,EAAeW,EAAcZ,cAE7Ba,IAAMC,MAAM,8BAZxB,wBAgBSD,IAAMC,MAAM,iCAhBrB,6CADkB,uBAAC,WAAD,wBAmBlBC,EACH,GAAE,CAACrB,IAGA,sBAAKsB,UAAU,qCAAf,UACI,uBAAMC,SAAU,SAAAC,GAAC,OArDJ,SAAAA,GAAK,4CAGtB,8BAAAf,EAAA,6DAEQO,EAAO,CACP,YAAcV,GAHtB,SAM2BI,MAAMC,IAAM,yBAA2BX,EAAI,CAC9DY,OAAQ,MACRa,QAAU,CACN,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAUZ,KAX7B,WAcwB,KARdH,EANV,QAciBC,GAdjB,iCAe2BD,EAASE,OAfpC,UAgB4B,GAhB5B,OAgBiBE,QAhBjB,0CAiBmBY,OAAOC,SAAWD,OAAOC,SAASC,OAAS,iBAjB9D,QAmBYZ,IAAMC,MAAM,0BAnBxB,6CAHsB,sBACtBI,EAAEQ,iBADoB,mCA0BtBC,EACH,CA0B4BC,CAAaV,EAAjB,EAAjB,UACI,sBAAKF,UAAU,2BAAf,UACI,sBAAKA,UAAU,iBAAf,UACI,uBAAOa,QAAQ,gBAAgBb,UAAU,0BAAzC,wBACA,qBAAKA,UAAU,yCAAf,SACI,uBAAOc,UAAQ,EAACC,MAAOjC,EAAWkC,KAAK,OAAOhB,UAAU,eAAetB,GAAG,uBAGlF,sBAAKsB,UAAU,iBAAf,UACI,wBAAOa,QAAQ,gBAAgBb,UAAU,0BAAzC,yBAA+E,sBAAMA,UAAU,iBAAhB,kBAC/E,qBAAKA,UAAU,yCAAf,SACI,uBAAOe,MAAO/B,EAAaiC,SAAU,SAAAf,GAAC,OAAIjB,EAAeiB,EAAEgB,OAAOH,MAA5B,EAAoCC,KAAK,OAAOhB,UAAU,eAAetB,GAAG,0BAI9H,sBAAKsB,UAAU,qDAAf,UACI,yBAAQmB,QAAS,kBAAMZ,OAAOa,QAAQC,MAArB,EAA6BL,KAAK,SAAShB,UAAU,gDAAtE,mBAA4H,mBACxHA,UAAU,mBAAmB,cAAY,YAC7C,yBAAQgB,KAAK,SAAShB,UAAU,iDAAhC,iBAAqF,mBACjFA,UAAU,sBAAsB,cAAY,kBAGxD,cAAC,IAAD,MAGX,C","file":"static/js/51.fc128b91.chunk.js","sourcesContent":["import React from 'react'\nimport { url } from '../../helpers/helpers';\nimport { useParams } from 'react-router-dom';\nimport { toast, ToastContainer } from 'react-toastify';\n\nexport default function Edit() {\n    const { id } = useParams();\n    const [beaconMac, setBeaconMac] = React.useState('');\n    const [description, setDescription] = React.useState('');\n\n    const handleSubmit = e => {\n        e.preventDefault();\n\n        async function submitData() {\n            \n            let data = {\n                \"description\":description,\n            }\n\n            const response = await fetch(url + 'dbBeacon/updateBeacon/' + id, {\n                method: 'PUT',\n                headers : {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(data)\n            })\n\n            if (response.ok === true) {\n                const data = await response.json();\n                if (data.success == true) {\n                    return window.location = window.location.origin + '/#/beaconList'\n                } else {\n                    toast.error(\"Internal Server Error!\");\n                }\n            }\n        }\n        submitData();\n    }\n\n    React.useEffect(() => {\n        async function fetchData() {\n            const response = await fetch(url + 'dbBeacon/getSingleBeacon/' + id, {\n                method: 'GET',\n            })\n\n            if (response.ok === true) {\n                const data = await response.json();\n                if (data.success == true) {\n                    const beacon_detail = data.data;\n                    setBeaconMac(beacon_detail.beaconMac);\n                    setDescription(beacon_detail.description);\n                }else{\n                    toast.error(\"Oops something went wrong!\")\n                }\n\n            }\n            else toast.error('Response not fetched properly');\n        }\n        fetchData();\n    }, [id])\n\n    return (\n        <div className=\"container create-page-main-section\">\n            <form onSubmit={e => handleSubmit(e)}>\n                <div className='p-sm-5 create-form-field'>\n                    <div className=\"form-group row\">\n                        <label htmlFor=\"inputPassword\" className=\"col-sm-2 col-form-label\">BeaconMac:</label>\n                        <div className=\"d-flex align-items-sm-center col-sm-10\">\n                            <input readOnly value={beaconMac} type=\"text\" className=\"form-control\" id=\"inputPassword\" />\n                        </div>\n                    </div>\n                    <div className=\"form-group row\">\n                        <label htmlFor=\"inputPassword\" className=\"col-sm-2 col-form-label\">Description:<span className='required-label'>*</span></label>\n                        <div className=\"d-flex align-items-sm-center col-sm-10\">\n                            <input value={description} onChange={e => setDescription(e.target.value)} type=\"text\" className=\"form-control\" id=\"inputPassword\" />\n                        </div>\n                    </div>\n                </div>\n                <div className=\"d-flex justify-content-center create-catagory-btns\">\n                    <button onClick={() => window.history.back()} type=\"button\" className=\"font-weight-bold m-3 py-2 px-4 btn btn-danger\">Cancel<i\n                        className=\"px-2 fa fa-times\" aria-hidden=\"true\"></i></button>\n                    <button type=\"submit\" className=\"font-weight-bold m-3 py-2 px-4 btn btn-success\">Save<i\n                        className=\"px-2 fa fa-floppy-o\" aria-hidden=\"true\"></i></button>\n                </div>\n            </form>\n            <ToastContainer />\n        </div>\n    )\n}"],"sourceRoot":""}